{
  "{\"sourceRoot\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"filename\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers/UserController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"plugins\":[],\"presets\":[]}:7.8.4:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers/UserController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers/UserController.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers/UserController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers",
        "sourceFileName": "UserController.js"
      }
    },
    "ast": null,
    "code": "const moment = require(\"moment\");\n\nconst {\n  Op\n} = require(\"sequelize\");\n\nconst User = require(\"../models/User\");\n\nconst Activity = require(\"../models/Activity\");\n\nconst authService = require(\"../services/auth.service\");\n\nconst bcryptService = require(\"../services/bcrypt.service\");\n\nconst Note = require(\"../models/Note\");\n\nconst UserController = () => {\n  const register = async (req, res) => {\n    const {\n      body\n    } = req;\n\n    if (body.password === body.confirmPassword) {\n      try {\n        const user = await User.create({\n          email: body.email,\n          password: body.password\n        });\n        const token = authService().issue({\n          id: user.id\n        });\n        return res.status(200).json({\n          token,\n          user\n        });\n      } catch (err) {\n        console.log(err);\n        return res.status(500).json({\n          msg: \"Internal server error\"\n        });\n      }\n    }\n\n    return res.status(400).json({\n      msg: \"Bad Request: Passwords don't match\"\n    });\n  };\n\n  const login = async (req, res) => {\n    const {\n      email,\n      password\n    } = req.body;\n\n    if (email && password) {\n      try {\n        const user = await User.findOne({\n          where: {\n            email\n          }\n        });\n\n        if (!user) {\n          return res.status(400).json({\n            msg: \"Bad Request: User not found\"\n          });\n        }\n\n        if (bcryptService().comparePassword(password, user.password)) {\n          const token = authService().issue({\n            id: user.id\n          });\n          return res.status(200).json({\n            token,\n            user\n          });\n        }\n\n        return res.status(401).json({\n          msg: \"Unauthorized\"\n        });\n      } catch (err) {\n        console.log(err);\n        return res.status(500).json({\n          msg: \"Internal server error\"\n        });\n      }\n    }\n\n    return res.status(400).json({\n      msg: \"Bad Request: Email or password is wrong\"\n    });\n  };\n\n  const validate = (req, res) => {\n    const {\n      token\n    } = req.body;\n    authService().verify(token, err => {\n      if (err) {\n        return res.status(401).json({\n          isvalid: false,\n          err: \"Invalid Token!\"\n        });\n      }\n\n      return res.status(200).json({\n        isvalid: true\n      });\n    });\n  };\n\n  const getAll = async (req, res) => {\n    try {\n      const users = await User.findAll();\n      return res.status(200).json({\n        users\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        msg: \"Internal server error\"\n      });\n    }\n  };\n\n  const getUserDetail = async (req, res) => {\n    try {\n      const user = await User.findByPk(req.token.id);\n      return res.status(200).json({\n        user\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        msg: \"Internal server error\"\n      });\n    }\n  };\n\n  const getUserActivities = async (req, res) => {\n    const {\n      query,\n      token\n    } = req;\n    console.log(\"query\", query);\n    const id = token.id;\n    const start_date = query.startDate ? moment(query.startDate) : moment(new Date()).startOf(\"day\").toDate();\n    const end_date = query.endDate ? moment(query.endDate).add(1, \"day\") : \"\";\n    let activities = [];\n    let noteCount = [];\n\n    try {\n      if (end_date) {\n        activities = await Activity.findAll({\n          where: {\n            userId: id,\n            createdAt: {\n              [Op.gte]: start_date,\n              [Op.lte]: end_date\n            }\n          },\n          include: [{\n            model: Note,\n            as: 'activityNotes'\n          }]\n        });\n      } else {\n        activities = await Activity.findAll({\n          where: {\n            userId: id,\n            createdAt: {\n              [Op.gte]: start_date\n            }\n          },\n          include: Note\n        });\n      }\n\n      return res.status(200).json({\n        activities\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        msg: \"Internal server error\"\n      });\n    }\n  };\n\n  return {\n    register,\n    login,\n    validate,\n    getAll,\n    getUserDetail,\n    getUserActivities\n  };\n};\n\nmodule.exports = UserController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIm1vbWVudCIsInJlcXVpcmUiLCJPcCIsIlVzZXIiLCJBY3Rpdml0eSIsImF1dGhTZXJ2aWNlIiwiYmNyeXB0U2VydmljZSIsIk5vdGUiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwidXNlciIsImNyZWF0ZSIsImVtYWlsIiwidG9rZW4iLCJpc3N1ZSIsImlkIiwic3RhdHVzIiwianNvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJtc2ciLCJsb2dpbiIsImZpbmRPbmUiLCJ3aGVyZSIsImNvbXBhcmVQYXNzd29yZCIsInZhbGlkYXRlIiwidmVyaWZ5IiwiaXN2YWxpZCIsImdldEFsbCIsInVzZXJzIiwiZmluZEFsbCIsImdldFVzZXJEZXRhaWwiLCJmaW5kQnlQayIsImdldFVzZXJBY3Rpdml0aWVzIiwicXVlcnkiLCJzdGFydF9kYXRlIiwic3RhcnREYXRlIiwiRGF0ZSIsInN0YXJ0T2YiLCJ0b0RhdGUiLCJlbmRfZGF0ZSIsImVuZERhdGUiLCJhZGQiLCJhY3Rpdml0aWVzIiwibm90ZUNvdW50IiwidXNlcklkIiwiY3JlYXRlZEF0IiwiZ3RlIiwibHRlIiwiaW5jbHVkZSIsIm1vZGVsIiwiYXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFTRCxPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUFwQjs7QUFDQSxNQUFNRyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxvQkFBRCxDQUF4Qjs7QUFDQSxNQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQywwQkFBRCxDQUEzQjs7QUFDQSxNQUFNSyxhQUFhLEdBQUdM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cUI7QUFBRUksUUFBQUEsR0FBRyxFQUFFO0FBQVAsT0FBckIsQ0FBUDtBQUNEO0FBQ0YsR0E5Q0Q7O0FBZ0RBLFNBQU87QUFDTGpCLElBQUFBLFFBREs7QUFFTGtCLElBQUFBLEtBRks7QUFHTEksSUFBQUEsUUFISztBQUlMRyxJQUFBQSxNQUpLO0FBS0xHLElBQUFBLGFBTEs7QUFNTEUsSUFBQUE7QUFOSyxHQUFQO0FBUUQsQ0FoSkQ7O0FBa0pBbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbkQsY0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvb3N2aW51c2VyL0RvY3VtZW50cy90aW1lVHJhY2tlci9UaW1lVHJhY2tlckFwaS9hcGkvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb21lbnQgPSByZXF1aXJlKFwibW9tZW50XCIpO1xuY29uc3QgeyBPcCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vbW9kZWxzL1VzZXJcIik7XG5jb25zdCBBY3Rpdml0eSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvQWN0aXZpdHlcIik7XG5jb25zdCBhdXRoU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCBiY3J5cHRTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2JjcnlwdC5zZXJ2aWNlXCIpO1xuY29uc3QgTm90ZSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvTm90ZVwiKTtcblxuY29uc3QgVXNlckNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBib2R5IH0gPSByZXE7XG5cbiAgICBpZiAoYm9keS5wYXNzd29yZCA9PT0gYm9keS5jb25maXJtUGFzc3dvcmQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7XG4gICAgICAgICAgZW1haWw6IGJvZHkuZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQ6IGJvZHkucGFzc3dvcmRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gYXV0aFNlcnZpY2UoKS5pc3N1ZSh7IGlkOiB1c2VyLmlkIH0pO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VyIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtc2c6IFwiQmFkIFJlcXVlc3Q6IFBhc3N3b3JkcyBkb24ndCBtYXRjaFwiIH0pO1xuICB9O1xuXG4gIGNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgaWYgKGVtYWlsICYmIHBhc3N3b3JkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgZW1haWxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogXCJCYWQgUmVxdWVzdDogVXNlciBub3QgZm91bmRcIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiY3J5cHRTZXJ2aWNlKCkuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xuICAgICAgICAgIGNvbnN0IHRva2VuID0gYXV0aFNlcnZpY2UoKS5pc3N1ZSh7IGlkOiB1c2VyLmlkIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtc2c6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmpzb24oeyBtc2c6IFwiQmFkIFJlcXVlc3Q6IEVtYWlsIG9yIHBhc3N3b3JkIGlzIHdyb25nXCIgfSk7XG4gIH07XG5cbiAgY29uc3QgdmFsaWRhdGUgPSAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHRva2VuIH0gPSByZXEuYm9keTtcblxuICAgIGF1dGhTZXJ2aWNlKCkudmVyaWZ5KHRva2VuLCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBpc3ZhbGlkOiBmYWxzZSwgZXJyOiBcIkludmFsaWQgVG9rZW4hXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGlzdmFsaWQ6IHRydWUgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0QWxsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kQWxsKCk7XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJzIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0VXNlckRldGFpbCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlQayhyZXEudG9rZW4uaWQpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFVzZXJBY3Rpdml0aWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBxdWVyeSwgdG9rZW4gfSA9IHJlcTtcbiAgICBjb25zb2xlLmxvZyhcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgICBjb25zdCBpZCA9IHRva2VuLmlkO1xuICAgIGNvbnN0IHN0YXJ0X2RhdGUgPSBxdWVyeS5zdGFydERhdGVcbiAgICAgID8gbW9tZW50KHF1ZXJ5LnN0YXJ0RGF0ZSlcbiAgICAgIDogbW9tZW50KG5ldyBEYXRlKCkpXG4gICAgICAgICAgLnN0YXJ0T2YoXCJkYXlcIilcbiAgICAgICAgICAudG9EYXRlKCk7XG4gICAgY29uc3QgZW5kX2RhdGUgPSBxdWVyeS5lbmREYXRlID8gbW9tZW50KHF1ZXJ5LmVuZERhdGUpLmFkZCgxLCBcImRheVwiKSA6IFwiXCI7XG4gICAgbGV0IGFjdGl2aXRpZXMgPSBbXTtcbiAgICBsZXQgbm90ZUNvdW50ID0gW107XG4gICAgdHJ5IHtcbiAgICAgIGlmIChlbmRfZGF0ZSkge1xuICAgICAgICBhY3Rpdml0aWVzID0gYXdhaXQgQWN0aXZpdHkuZmluZEFsbCh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIHVzZXJJZDogaWQsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgW09wLmd0ZV06IHN0YXJ0X2RhdGUsXG4gICAgICAgICAgICAgIFtPcC5sdGVdOiBlbmRfZGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb2RlbDogTm90ZSxcbiAgICAgICAgICAgICAgYXM6ICdhY3Rpdml0eU5vdGVzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpdml0aWVzID0gYXdhaXQgQWN0aXZpdHkuZmluZEFsbCh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIHVzZXJJZDogaWQsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgW09wLmd0ZV06IHN0YXJ0X2RhdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGluY2x1ZGU6IE5vdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFjdGl2aXRpZXMgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHJlZ2lzdGVyLFxuICAgIGxvZ2luLFxuICAgIHZhbGlkYXRlLFxuICAgIGdldEFsbCxcbiAgICBnZXRVc2VyRGV0YWlsLFxuICAgIGdldFVzZXJBY3Rpdml0aWVzXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJDb250cm9sbGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "UserController.js"
      ],
      "names": [
        "moment",
        "require",
        "Op",
        "User",
        "Activity",
        "authService",
        "bcryptService",
        "Note",
        "UserController",
        "register",
        "req",
        "res",
        "body",
        "password",
        "confirmPassword",
        "user",
        "create",
        "email",
        "token",
        "issue",
        "id",
        "status",
        "json",
        "err",
        "console",
        "log",
        "msg",
        "login",
        "findOne",
        "where",
        "comparePassword",
        "validate",
        "verify",
        "isvalid",
        "getAll",
        "users",
        "findAll",
        "getUserDetail",
        "findByPk",
        "getUserActivities",
        "query",
        "start_date",
        "startDate",
        "Date",
        "startOf",
        "toDate",
        "end_date",
        "endDate",
        "add",
        "activities",
        "noteCount",
        "userId",
        "createdAt",
        "gte",
        "lte",
        "include",
        "model",
        "as",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/controllers",
      "sourcesContent": [
        "const moment = require(\"moment\");\nconst { Op } = require(\"sequelize\");\nconst User = require(\"../models/User\");\nconst Activity = require(\"../models/Activity\");\nconst authService = require(\"../services/auth.service\");\nconst bcryptService = require(\"../services/bcrypt.service\");\nconst Note = require(\"../models/Note\");\n\nconst UserController = () => {\n  const register = async (req, res) => {\n    const { body } = req;\n\n    if (body.password === body.confirmPassword) {\n      try {\n        const user = await User.create({\n          email: body.email,\n          password: body.password\n        });\n        const token = authService().issue({ id: user.id });\n\n        return res.status(200).json({ token, user });\n      } catch (err) {\n        console.log(err);\n        return res.status(500).json({ msg: \"Internal server error\" });\n      }\n    }\n\n    return res.status(400).json({ msg: \"Bad Request: Passwords don't match\" });\n  };\n\n  const login = async (req, res) => {\n    const { email, password } = req.body;\n\n    if (email && password) {\n      try {\n        const user = await User.findOne({\n          where: {\n            email\n          }\n        });\n\n        if (!user) {\n          return res.status(400).json({ msg: \"Bad Request: User not found\" });\n        }\n\n        if (bcryptService().comparePassword(password, user.password)) {\n          const token = authService().issue({ id: user.id });\n\n          return res.status(200).json({ token, user });\n        }\n\n        return res.status(401).json({ msg: \"Unauthorized\" });\n      } catch (err) {\n        console.log(err);\n        return res.status(500).json({ msg: \"Internal server error\" });\n      }\n    }\n\n    return res\n      .status(400)\n      .json({ msg: \"Bad Request: Email or password is wrong\" });\n  };\n\n  const validate = (req, res) => {\n    const { token } = req.body;\n\n    authService().verify(token, err => {\n      if (err) {\n        return res.status(401).json({ isvalid: false, err: \"Invalid Token!\" });\n      }\n\n      return res.status(200).json({ isvalid: true });\n    });\n  };\n\n  const getAll = async (req, res) => {\n    try {\n      const users = await User.findAll();\n\n      return res.status(200).json({ users });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({ msg: \"Internal server error\" });\n    }\n  };\n\n  const getUserDetail = async (req, res) => {\n    try {\n      const user = await User.findByPk(req.token.id);\n      return res.status(200).json({ user });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({ msg: \"Internal server error\" });\n    }\n  };\n\n  const getUserActivities = async (req, res) => {\n    const { query, token } = req;\n    console.log(\"query\", query);\n    const id = token.id;\n    const start_date = query.startDate\n      ? moment(query.startDate)\n      : moment(new Date())\n          .startOf(\"day\")\n          .toDate();\n    const end_date = query.endDate ? moment(query.endDate).add(1, \"day\") : \"\";\n    let activities = [];\n    let noteCount = [];\n    try {\n      if (end_date) {\n        activities = await Activity.findAll({\n          where: {\n            userId: id,\n            createdAt: {\n              [Op.gte]: start_date,\n              [Op.lte]: end_date\n            }\n          },\n          include: [\n            {\n              model: Note,\n              as: 'activityNotes'\n            }\n          ]\n        });\n      } else {\n        activities = await Activity.findAll({\n          where: {\n            userId: id,\n            createdAt: {\n              [Op.gte]: start_date\n            }\n          },\n          include: Note\n        });\n      }\n\n      return res.status(200).json({ activities });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({ msg: \"Internal server error\" });\n    }\n  };\n\n  return {\n    register,\n    login,\n    validate,\n    getAll,\n    getUserDetail,\n    getUserActivities\n  };\n};\n\nmodule.exports = UserController;\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1581503693080
  },
  "{\"sourceRoot\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"filename\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Note.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"plugins\":[],\"presets\":[]}:7.8.4:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Note.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Note.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Note.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
        "sourceFileName": "Note.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require(\"sequelize\");\n\nconst bcryptService = require(\"../services/bcrypt.service\");\n\nconst sequelize = require(\"../../config/database\");\n\nconst DataTypes = Sequelize.DataTypes;\n\nconst User = require(\"./User\");\n\nconst Activity = require(\"./Activity\");\n\nconst hooks = {};\nconst tableName = \"notes\";\nconst Note = sequelize.define(\"Note\", {\n  body: {\n    type: Sequelize.TEXT\n  },\n  userId: {\n    type: Sequelize.INTEGER,\n    onDelete: \"CASCADE\",\n    references: {\n      model: \"users\",\n      key: \"id\",\n      as: \"userId\"\n    }\n  }\n  /*  activityId: {\n      type: Sequelize.INTEGER,\n      onDelete: \"CASCADE\",\n      references: {\n        model: \"activities\",\n        key: \"id\",\n        as: \"activityId\"\n      }\n    }, */\n\n}, {\n  hooks,\n  tableName\n}); // eslint-disable-next-line\n\nNote.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  delete values.password;\n  return values;\n};\n/* Note.associate = function(models) { */\n\n\nNote.belongsTo(Activity);\n/* }; */\n\n/* Note.belongsTo(User); */\n\nmodule.exports = Note;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5vdGUuanMiXSwibmFtZXMiOlsiU2VxdWVsaXplIiwicmVxdWlyZSIsImJjcnlwdFNlcnZpY2UiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJVc2VyIiwiQWN0aXZpdHkiLCJob29rcyIsInRhYmxlTmFtZSIsIk5vdGUiLCJkZWZpbmUiLCJib2R5IiwidHlwZSIsIlRFWFQiLCJ1c2VySWQiLCJJTlRFR0VSIiwib25EZWxldGUiLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJhcyIsInByb3RvdHlwZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCIsInBhc3N3b3JkIiwiYmVsb25nc1RvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxhQUFhLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUE3Qjs7QUFFQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF6Qjs7QUFDQSxNQUFNRyxTQUFTLEdBQUdKLFNBQVMsQ0FBQ0ksU0FBNUI7O0FBRUEsTUFBTUMsSUFBSSxHQUFHSixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxNQUFNSyxRQUFRLEdBQUdMLE9BQU8sQ0FBQyxZQUFELENBQXhCOztBQUVBLE1BQU1NLEtBQUssR0FBRyxFQUFkO0FBRUEsTUFBTUMsU0FBUyxHQUFHLE9BQWxCO0FBRUEsTUFBTUMsSUFBSSxHQUFHTixTQUFTLENBQUNPLE1BQVYsQ0FDWCxNQURXLEVBRVg7QUFDRUMsRUFBQUEsSUFBSSxFQUFFO0FBQ0pDLElBQUFBLElBQUksRUFBRVosU0FBUyxDQUFDYTtBQURaLEdBRFI7QUFJRUMsRUFBQUEsTUFBTSxFQUFFO0FBQ05GLElBQUFBLElBQUksRUFBRVosU0FBUyxDQUFDZSxPQURWO0FBRU5DLElBQUFBLFFBQVEsRUFBRSxTQUZKO0FBR05DLElBQUFBLFVBQVUsRUFBRTtBQUNWQyxNQUFBQSxLQUFLLEVBQUUsT0FERztBQUVWQyxNQUFBQSxHQUFHLEVBQUUsSUFGSztBQUdWQyxNQUFBQSxFQUFFLEVBQUU7QUFITTtBQUhOO0FBU1I7Ozs7Ozs7Ozs7QUFiRixDQUZXLEVBeUJYO0FBQUViLEVBQUFBLEtBQUY7QUFBU0MsRUFBQUE7QUFBVCxDQXpCVyxDQUFiLEMsQ0E0QkE7O0FBQ0FDLElBQUksQ0FBQ1ksU0FBTCxDQUFlQyxNQUFmLEdBQXdCLFlBQVc7QUFDakMsUUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLEtBQUtDLEdBQUwsRUFBbEIsQ0FBZjtBQUVBLFNBQU9ILE1BQU0sQ0FBQ0ksUUFBZDtBQUVBLFNBQU9KLE1BQVA7QUFDRCxDQU5EO0FBUUE7OztBQUNFZCxJQUFJLENBQUNtQixTQUFMLENBQWV0QixRQUFmO0FBQ0Y7O0FBRUE7O0FBRUF1QixNQUFNLENBQUNDLE9BQVAsR0FBaUJyQixJQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9vc3ZpbnVzZXIvRG9jdW1lbnRzL3RpbWVUcmFja2VyL1RpbWVUcmFja2VyQXBpL2FwaS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xuY29uc3QgYmNyeXB0U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9iY3J5cHQuc2VydmljZVwiKTtcblxuY29uc3Qgc2VxdWVsaXplID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZy9kYXRhYmFzZVwiKTtcbmNvbnN0IERhdGFUeXBlcyA9IFNlcXVlbGl6ZS5EYXRhVHlwZXM7XG5cbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi9Vc2VyXCIpO1xuY29uc3QgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9BY3Rpdml0eVwiKTtcblxuY29uc3QgaG9va3MgPSB7fTtcblxuY29uc3QgdGFibGVOYW1lID0gXCJub3Rlc1wiO1xuXG5jb25zdCBOb3RlID0gc2VxdWVsaXplLmRlZmluZShcbiAgXCJOb3RlXCIsXG4gIHtcbiAgICBib2R5OiB7XG4gICAgICB0eXBlOiBTZXF1ZWxpemUuVEVYVFxuICAgIH0sXG4gICAgdXNlcklkOiB7XG4gICAgICB0eXBlOiBTZXF1ZWxpemUuSU5URUdFUixcbiAgICAgIG9uRGVsZXRlOiBcIkNBU0NBREVcIixcbiAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbW9kZWw6IFwidXNlcnNcIixcbiAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIGFzOiBcInVzZXJJZFwiXG4gICAgICB9XG4gICAgfVxuICAgIC8qICBhY3Rpdml0eUlkOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5JTlRFR0VSLFxuICAgICAgICBvbkRlbGV0ZTogXCJDQVNDQURFXCIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJhY3Rpdml0aWVzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgICAgYXM6IFwiYWN0aXZpdHlJZFwiXG4gICAgICAgIH1cbiAgICAgIH0sICovXG4gIH0sXG4gIHsgaG9va3MsIHRhYmxlTmFtZSB9XG4pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbk5vdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldCgpKTtcblxuICBkZWxldGUgdmFsdWVzLnBhc3N3b3JkO1xuXG4gIHJldHVybiB2YWx1ZXM7XG59O1xuXG4vKiBOb3RlLmFzc29jaWF0ZSA9IGZ1bmN0aW9uKG1vZGVscykgeyAqL1xuICBOb3RlLmJlbG9uZ3NUbyhBY3Rpdml0eSk7XG4vKiB9OyAqL1xuXG4vKiBOb3RlLmJlbG9uZ3NUbyhVc2VyKTsgKi9cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "Note.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "bcryptService",
        "sequelize",
        "DataTypes",
        "User",
        "Activity",
        "hooks",
        "tableName",
        "Note",
        "define",
        "body",
        "type",
        "TEXT",
        "userId",
        "INTEGER",
        "onDelete",
        "references",
        "model",
        "key",
        "as",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "password",
        "belongsTo",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,4BAAD,CAA7B;;AAEA,MAAME,SAAS,GAAGF,OAAO,CAAC,uBAAD,CAAzB;;AACA,MAAMG,SAAS,GAAGJ,SAAS,CAACI,SAA5B;;AAEA,MAAMC,IAAI,GAAGJ,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMK,QAAQ,GAAGL,OAAO,CAAC,YAAD,CAAxB;;AAEA,MAAMM,KAAK,GAAG,EAAd;AAEA,MAAMC,SAAS,GAAG,OAAlB;AAEA,MAAMC,IAAI,GAAGN,SAAS,CAACO,MAAV,CACX,MADW,EAEX;AACEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEZ,SAAS,CAACa;AADZ,GADR;AAIEC,EAAAA,MAAM,EAAE;AACNF,IAAAA,IAAI,EAAEZ,SAAS,CAACe,OADV;AAENC,IAAAA,QAAQ,EAAE,SAFJ;AAGNC,IAAAA,UAAU,EAAE;AACVC,MAAAA,KAAK,EAAE,OADG;AAEVC,MAAAA,GAAG,EAAE,IAFK;AAGVC,MAAAA,EAAE,EAAE;AAHM;AAHN;AASR;;;;;;;;;;AAbF,CAFW,EAyBX;AAAEb,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAzBW,CAAb,C,CA4BA;;AACAC,IAAI,CAACY,SAAL,CAAeC,MAAf,GAAwB,YAAW;AACjC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AAEA,SAAOH,MAAM,CAACI,QAAd;AAEA,SAAOJ,MAAP;AACD,CAND;AAQA;;;AACEd,IAAI,CAACmB,SAAL,CAAetB,QAAf;AACF;;AAEA;;AAEAuB,MAAM,CAACC,OAAP,GAAiBrB,IAAjB",
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "sourcesContent": [
        "const Sequelize = require(\"sequelize\");\nconst bcryptService = require(\"../services/bcrypt.service\");\n\nconst sequelize = require(\"../../config/database\");\nconst DataTypes = Sequelize.DataTypes;\n\nconst User = require(\"./User\");\nconst Activity = require(\"./Activity\");\n\nconst hooks = {};\n\nconst tableName = \"notes\";\n\nconst Note = sequelize.define(\n  \"Note\",\n  {\n    body: {\n      type: Sequelize.TEXT\n    },\n    userId: {\n      type: Sequelize.INTEGER,\n      onDelete: \"CASCADE\",\n      references: {\n        model: \"users\",\n        key: \"id\",\n        as: \"userId\"\n      }\n    }\n    /*  activityId: {\n        type: Sequelize.INTEGER,\n        onDelete: \"CASCADE\",\n        references: {\n          model: \"activities\",\n          key: \"id\",\n          as: \"activityId\"\n        }\n      }, */\n  },\n  { hooks, tableName }\n);\n\n// eslint-disable-next-line\nNote.prototype.toJSON = function() {\n  const values = Object.assign({}, this.get());\n\n  delete values.password;\n\n  return values;\n};\n\n/* Note.associate = function(models) { */\n  Note.belongsTo(Activity);\n/* }; */\n\n/* Note.belongsTo(User); */\n\nmodule.exports = Note;\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1581505034823
  },
  "{\"sourceRoot\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"filename\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Activity.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"plugins\":[],\"presets\":[]}:7.8.4:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Activity.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Activity.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/Activity.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
        "sourceFileName": "Activity.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require('sequelize');\n\nconst bcryptService = require('../services/bcrypt.service');\n\nconst Note = require('./Note');\n\nconst sequelize = require('../../config/database');\n\nconst DataTypes = Sequelize.DataTypes;\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  }\n\n};\nconst tableName = 'activities';\n\nconst User = require('./User');\n\nconst Activity = sequelize.define('Activity', {\n  title: {\n    type: Sequelize.STRING\n  },\n  caturedAt: {\n    type: Sequelize.DATE\n  },\n  image: {\n    type: Sequelize.STRING\n  }\n}, {\n  hooks,\n  tableName\n}); // eslint-disable-next-line\n\nActivity.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  return values;\n};\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n\n\nActivity.hasMany(Note);\nmodule.exports = Activity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjdGl2aXR5LmpzIl0sIm5hbWVzIjpbIlNlcXVlbGl6ZSIsInJlcXVpcmUiLCJiY3J5cHRTZXJ2aWNlIiwiTm90ZSIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsImhvb2tzIiwiYmVmb3JlQ3JlYXRlIiwidXNlciIsInBhc3N3b3JkIiwidGFibGVOYW1lIiwiVXNlciIsIkFjdGl2aXR5IiwiZGVmaW5lIiwidGl0bGUiLCJ0eXBlIiwiU1RSSU5HIiwiY2F0dXJlZEF0IiwiREFURSIsImltYWdlIiwicHJvdG90eXBlIiwidG9KU09OIiwidmFsdWVzIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0IiwiaGFzTWFueSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUVBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsYUFBYSxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBN0I7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxNQUFNRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyx1QkFBRCxDQUF6Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdMLFNBQVMsQ0FBQ0ssU0FBNUI7QUFFQSxNQUFNQyxLQUFLLEdBQUc7QUFDWkMsRUFBQUEsWUFBWSxDQUFDQyxJQUFELEVBQU87QUFDakJBLElBQUFBLElBQUksQ0FBQ0MsUUFBTCxHQUFnQlAsYUFBYSxHQUFHTyxRQUFoQixDQUF5QkQsSUFBekIsQ0FBaEIsQ0FEaUIsQ0FDK0I7QUFDakQ7O0FBSFcsQ0FBZDtBQU1BLE1BQU1FLFNBQVMsR0FBRyxZQUFsQjs7QUFFQSxNQUFNQyxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUVBLE1BQU1XLFFBQVEsR0FBR1IsU0FBUyxDQUFDUyxNQUFWLENBQWlCLFVBQWpCLEVBQTZCO0FBQzFDQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEMsSUFBQUEsSUFBSSxFQUFFZixTQUFTLENBQUNnQjtBQURiLEdBRG1DO0FBSTFDQyxFQUFBQSxTQUFTLEVBQUU7QUFDUEYsSUFBQUEsSUFBSSxFQUFFZixTQUFTLENBQUNrQjtBQURULEdBSitCO0FBTzFDQyxFQUFBQSxLQUFLLEVBQUM7QUFDRkosSUFBQUEsSUFBSSxFQUFFZixTQUFTLENBQUNnQjtBQURkO0FBUG9DLENBQTdCLEVBVWQ7QUFBRVYsRUFBQUEsS0FBRjtBQUFTSSxFQUFBQTtBQUFULENBVmMsQ0FBakIsQyxDQVlBOztBQUNBRSxRQUFRLENBQUNRLFNBQVQsQ0FBbUJDLE1BQW5CLEdBQTRCLFlBQVk7QUFDdEMsUUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLEtBQUtDLEdBQUwsRUFBbEIsQ0FBZjtBQUVBLFNBQU9ILE1BQVA7QUFDRCxDQUpEO0FBTUE7Ozs7OztBQUtDVixRQUFRLENBQUNjLE9BQVQsQ0FBaUJ2QixJQUFqQjtBQUVEd0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEIsUUFBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvb3N2aW51c2VyL0RvY3VtZW50cy90aW1lVHJhY2tlci9UaW1lVHJhY2tlckFwaS9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuY29uc3QgYmNyeXB0U2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2JjcnlwdC5zZXJ2aWNlJyk7XG5jb25zdCBOb3RlID0gcmVxdWlyZSgnLi9Ob3RlJylcbmNvbnN0IHNlcXVlbGl6ZSA9IHJlcXVpcmUoJy4uLy4uL2NvbmZpZy9kYXRhYmFzZScpO1xuY29uc3QgRGF0YVR5cGVzID0gU2VxdWVsaXplLkRhdGFUeXBlcztcblxuY29uc3QgaG9va3MgPSB7XG4gIGJlZm9yZUNyZWF0ZSh1c2VyKSB7XG4gICAgdXNlci5wYXNzd29yZCA9IGJjcnlwdFNlcnZpY2UoKS5wYXNzd29yZCh1c2VyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICB9LFxufTtcblxuY29uc3QgdGFibGVOYW1lID0gJ2FjdGl2aXRpZXMnO1xuXG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi9Vc2VyJylcblxuY29uc3QgQWN0aXZpdHkgPSBzZXF1ZWxpemUuZGVmaW5lKCdBY3Rpdml0eScsIHtcbiAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgIH0sXG4gICAgY2F0dXJlZEF0OiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5EQVRFLFxuICAgIH0sXG4gICAgaW1hZ2U6e1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HXG4gICAgfVxufSwgeyBob29rcywgdGFibGVOYW1lIH0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbkFjdGl2aXR5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuXG4gIHJldHVybiB2YWx1ZXM7XG59O1xuXG4vKiBVc2VyLmFzc29jaWF0ZSA9IGZ1bmN0aW9uIChtb2RlbHMpIHsgXG4gIFxuICBVc2VyLmhhc09uZSh7Tm90ZTogfSlcbiB9OyAqL1xuXG4gQWN0aXZpdHkuaGFzTWFueShOb3RlKVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjdGl2aXR5O1xuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "Activity.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "bcryptService",
        "Note",
        "sequelize",
        "DataTypes",
        "hooks",
        "beforeCreate",
        "user",
        "password",
        "tableName",
        "User",
        "Activity",
        "define",
        "title",
        "type",
        "STRING",
        "caturedAt",
        "DATE",
        "image",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "hasMany",
        "module",
        "exports"
      ],
      "mappings": "AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,4BAAD,CAA7B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMG,SAAS,GAAGH,OAAO,CAAC,uBAAD,CAAzB;;AACA,MAAMI,SAAS,GAAGL,SAAS,CAACK,SAA5B;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjBA,IAAAA,IAAI,CAACC,QAAL,GAAgBP,aAAa,GAAGO,QAAhB,CAAyBD,IAAzB,CAAhB,CADiB,CAC+B;AACjD;;AAHW,CAAd;AAMA,MAAME,SAAS,GAAG,YAAlB;;AAEA,MAAMC,IAAI,GAAGV,OAAO,CAAC,QAAD,CAApB;;AAEA,MAAMW,QAAQ,GAAGR,SAAS,CAACS,MAAV,CAAiB,UAAjB,EAA6B;AAC1CC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEf,SAAS,CAACgB;AADb,GADmC;AAI1CC,EAAAA,SAAS,EAAE;AACPF,IAAAA,IAAI,EAAEf,SAAS,CAACkB;AADT,GAJ+B;AAO1CC,EAAAA,KAAK,EAAC;AACFJ,IAAAA,IAAI,EAAEf,SAAS,CAACgB;AADd;AAPoC,CAA7B,EAUd;AAAEV,EAAAA,KAAF;AAASI,EAAAA;AAAT,CAVc,CAAjB,C,CAYA;;AACAE,QAAQ,CAACQ,SAAT,CAAmBC,MAAnB,GAA4B,YAAY;AACtC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AAEA,SAAOH,MAAP;AACD,CAJD;AAMA;;;;;;AAKCV,QAAQ,CAACc,OAAT,CAAiBvB,IAAjB;AAEDwB,MAAM,CAACC,OAAP,GAAiBhB,QAAjB",
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "sourcesContent": [
        "\n\nconst Sequelize = require('sequelize');\nconst bcryptService = require('../services/bcrypt.service');\nconst Note = require('./Note')\nconst sequelize = require('../../config/database');\nconst DataTypes = Sequelize.DataTypes;\n\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  },\n};\n\nconst tableName = 'activities';\n\nconst User = require('./User')\n\nconst Activity = sequelize.define('Activity', {\n    title: {\n        type: Sequelize.STRING,\n    },\n    caturedAt: {\n        type: Sequelize.DATE,\n    },\n    image:{\n        type: Sequelize.STRING\n    }\n}, { hooks, tableName });\n\n// eslint-disable-next-line\nActivity.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n\n  return values;\n};\n\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n\n Activity.hasMany(Note)\n\nmodule.exports = Activity;\n\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1581505481503
  },
  "{\"sourceRoot\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"filename\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/User.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"plugins\":[],\"presets\":[]}:7.8.4:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/User.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/User.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require('sequelize');\n\nconst bcryptService = require('../services/bcrypt.service');\n\nconst sequelize = require('../../config/database');\n\nconst DataTypes = Sequelize.DataTypes;\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  }\n\n};\nconst tableName = 'users';\n\nconst Activity = require('./Activity');\n\nconst User = sequelize.define('User', {\n  email: {\n    type: Sequelize.STRING,\n    unique: true\n  },\n  password: {\n    type: Sequelize.STRING\n  },\n  name: {\n    type: Sequelize.STRING\n  },\n  role: {\n    type: Sequelize.STRING,\n    type: DataTypes.ENUM('admin', 'customer')\n  }\n}, {\n  hooks,\n  tableName\n}); // eslint-disable-next-line\n\nUser.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  delete values.password;\n  return values;\n};\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n\n\nUser.hasMany(Activity);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsiU2VxdWVsaXplIiwicmVxdWlyZSIsImJjcnlwdFNlcnZpY2UiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJob29rcyIsImJlZm9yZUNyZWF0ZSIsInVzZXIiLCJwYXNzd29yZCIsInRhYmxlTmFtZSIsIkFjdGl2aXR5IiwiVXNlciIsImRlZmluZSIsImVtYWlsIiwidHlwZSIsIlNUUklORyIsInVuaXF1ZSIsIm5hbWUiLCJyb2xlIiwiRU5VTSIsInByb3RvdHlwZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCIsImhhc01hbnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTdCOztBQUVBLE1BQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLHVCQUFELENBQXpCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osU0FBUyxDQUFDSSxTQUE1QjtBQUVBLE1BQU1DLEtBQUssR0FBRztBQUNaQyxFQUFBQSxZQUFZLENBQUNDLElBQUQsRUFBTztBQUNqQkEsSUFBQUEsSUFBSSxDQUFDQyxRQUFMLEdBQWdCTixhQUFhLEdBQUdNLFFBQWhCLENBQXlCRCxJQUF6QixDQUFoQixDQURpQixDQUMrQjtBQUNqRDs7QUFIVyxDQUFkO0FBTUEsTUFBTUUsU0FBUyxHQUFHLE9BQWxCOztBQUdBLE1BQU1DLFFBQVEsR0FBR1QsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBRUEsTUFBTVUsSUFBSSxHQUFHUixTQUFTLENBQUNTLE1BQVYsQ0FBaUIsTUFBakIsRUFBeUI7QUFDcENDLEVBQUFBLEtBQUssRUFBRTtBQUNMQyxJQUFBQSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2UsTUFEWDtBQUVMQyxJQUFBQSxNQUFNLEVBQUU7QUFGSCxHQUQ2QjtBQUtwQ1IsRUFBQUEsUUFBUSxFQUFFO0FBQ1JNLElBQUFBLElBQUksRUFBRWQsU0FBUyxDQUFDZTtBQURSLEdBTDBCO0FBUXBDRSxFQUFBQSxJQUFJLEVBQUU7QUFDSkgsSUFBQUEsSUFBSSxFQUFFZCxTQUFTLENBQUNlO0FBRFosR0FSOEI7QUFXcENHLEVBQUFBLElBQUksRUFBRTtBQUNKSixJQUFBQSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2UsTUFEWjtBQUVKRCxJQUFBQSxJQUFJLEVBQUVWLFNBQVMsQ0FBQ2UsSUFBVixDQUFlLE9BQWYsRUFBd0IsVUFBeEI7QUFGRjtBQVg4QixDQUF6QixFQWVWO0FBQUVkLEVBQUFBLEtBQUY7QUFBU0ksRUFBQUE7QUFBVCxDQWZVLENBQWIsQyxDQWlCQTs7QUFDQUUsSUFBSSxDQUFDUyxTQUFMLENBQWVDLE1BQWYsR0FBd0IsWUFBWTtBQUNsQyxRQUFNQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLEVBQWQsRUFBa0IsS0FBS0MsR0FBTCxFQUFsQixDQUFmO0FBRUEsU0FBT0gsTUFBTSxDQUFDZCxRQUFkO0FBRUEsU0FBT2MsTUFBUDtBQUNELENBTkQ7QUFRQTs7Ozs7O0FBSUNYLElBQUksQ0FBQ2UsT0FBTCxDQUFhaEIsUUFBYjtBQUVEaUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCakIsSUFBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvb3N2aW51c2VyL0RvY3VtZW50cy90aW1lVHJhY2tlci9UaW1lVHJhY2tlckFwaS9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU2VxdWVsaXplID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5jb25zdCBiY3J5cHRTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvYmNyeXB0LnNlcnZpY2UnKTtcblxuY29uc3Qgc2VxdWVsaXplID0gcmVxdWlyZSgnLi4vLi4vY29uZmlnL2RhdGFiYXNlJyk7XG5jb25zdCBEYXRhVHlwZXMgPSBTZXF1ZWxpemUuRGF0YVR5cGVzO1xuXG5jb25zdCBob29rcyA9IHtcbiAgYmVmb3JlQ3JlYXRlKHVzZXIpIHtcbiAgICB1c2VyLnBhc3N3b3JkID0gYmNyeXB0U2VydmljZSgpLnBhc3N3b3JkKHVzZXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIH0sXG59O1xuXG5jb25zdCB0YWJsZU5hbWUgPSAndXNlcnMnO1xuXG5cbmNvbnN0IEFjdGl2aXR5ID0gcmVxdWlyZSgnLi9BY3Rpdml0eScpXG5cbmNvbnN0IFVzZXIgPSBzZXF1ZWxpemUuZGVmaW5lKCdVc2VyJywge1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgdW5pcXVlOiB0cnVlLFxuICB9LFxuICBwYXNzd29yZDoge1xuICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkdcbiAgfSxcbiAgbmFtZToge1xuICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkdcbiAgfSxcbiAgcm9sZToge1xuICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oJ2FkbWluJywgJ2N1c3RvbWVyJyksXG4gIH1cbn0sIHsgaG9va3MsIHRhYmxlTmFtZSB9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5Vc2VyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuXG4gIGRlbGV0ZSB2YWx1ZXMucGFzc3dvcmQ7XG5cbiAgcmV0dXJuIHZhbHVlcztcbn07XG5cbi8qIFVzZXIuYXNzb2NpYXRlID0gZnVuY3Rpb24gKG1vZGVscykgeyBcbiAgXG4gIFVzZXIuaGFzT25lKHtOb3RlOiB9KVxuIH07ICovXG4gVXNlci5oYXNNYW55KEFjdGl2aXR5KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "bcryptService",
        "sequelize",
        "DataTypes",
        "hooks",
        "beforeCreate",
        "user",
        "password",
        "tableName",
        "Activity",
        "User",
        "define",
        "email",
        "type",
        "STRING",
        "unique",
        "name",
        "role",
        "ENUM",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "hasMany",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,4BAAD,CAA7B;;AAEA,MAAME,SAAS,GAAGF,OAAO,CAAC,uBAAD,CAAzB;;AACA,MAAMG,SAAS,GAAGJ,SAAS,CAACI,SAA5B;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjBA,IAAAA,IAAI,CAACC,QAAL,GAAgBN,aAAa,GAAGM,QAAhB,CAAyBD,IAAzB,CAAhB,CADiB,CAC+B;AACjD;;AAHW,CAAd;AAMA,MAAME,SAAS,GAAG,OAAlB;;AAGA,MAAMC,QAAQ,GAAGT,OAAO,CAAC,YAAD,CAAxB;;AAEA,MAAMU,IAAI,GAAGR,SAAS,CAACS,MAAV,CAAiB,MAAjB,EAAyB;AACpCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAEd,SAAS,CAACe,MADX;AAELC,IAAAA,MAAM,EAAE;AAFH,GAD6B;AAKpCR,EAAAA,QAAQ,EAAE;AACRM,IAAAA,IAAI,EAAEd,SAAS,CAACe;AADR,GAL0B;AAQpCE,EAAAA,IAAI,EAAE;AACJH,IAAAA,IAAI,EAAEd,SAAS,CAACe;AADZ,GAR8B;AAWpCG,EAAAA,IAAI,EAAE;AACJJ,IAAAA,IAAI,EAAEd,SAAS,CAACe,MADZ;AAEJD,IAAAA,IAAI,EAAEV,SAAS,CAACe,IAAV,CAAe,OAAf,EAAwB,UAAxB;AAFF;AAX8B,CAAzB,EAeV;AAAEd,EAAAA,KAAF;AAASI,EAAAA;AAAT,CAfU,CAAb,C,CAiBA;;AACAE,IAAI,CAACS,SAAL,CAAeC,MAAf,GAAwB,YAAY;AAClC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AAEA,SAAOH,MAAM,CAACd,QAAd;AAEA,SAAOc,MAAP;AACD,CAND;AAQA;;;;;;AAICX,IAAI,CAACe,OAAL,CAAahB,QAAb;AAEDiB,MAAM,CAACC,OAAP,GAAiBjB,IAAjB",
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "sourcesContent": [
        "const Sequelize = require('sequelize');\nconst bcryptService = require('../services/bcrypt.service');\n\nconst sequelize = require('../../config/database');\nconst DataTypes = Sequelize.DataTypes;\n\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  },\n};\n\nconst tableName = 'users';\n\n\nconst Activity = require('./Activity')\n\nconst User = sequelize.define('User', {\n  email: {\n    type: Sequelize.STRING,\n    unique: true,\n  },\n  password: {\n    type: Sequelize.STRING\n  },\n  name: {\n    type: Sequelize.STRING\n  },\n  role: {\n    type: Sequelize.STRING,\n    type: DataTypes.ENUM('admin', 'customer'),\n  }\n}, { hooks, tableName });\n\n// eslint-disable-next-line\nUser.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n\n  delete values.password;\n\n  return values;\n};\n\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n User.hasMany(Activity)\n\nmodule.exports = User;\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1581505477755
  },
  "{\"sourceRoot\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"filename\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/WActivity.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/osvinuser/Documents/timeTracker/TimeTrackerApi\",\"plugins\":[],\"presets\":[]}:7.8.4:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/WActivity.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/WActivity.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models/WActivity.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
        "sourceFileName": "WActivity.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require('sequelize');\n\nconst bcryptService = require('../services/bcrypt.service');\n\nconst sequelize = require('../../config/database');\n\nconst DataTypes = Sequelize.DataTypes;\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  }\n\n};\nconst tableName = 'activities';\n\nconst User = require('./User');\n\nconst Activity = sequelize.define('Activity', {\n  title: {\n    type: Sequelize.STRING\n  },\n  caturedAt: {\n    type: Sequelize.DATE\n  },\n  image: {\n    type: Sequelize.STRING\n  }\n}, {\n  hooks,\n  tableName\n}); // eslint-disable-next-line\n\nActivity.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  return values;\n};\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n\n\nActivity.belongsTo(User);\nmodule.exports = Activity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldBY3Rpdml0eS5qcyJdLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwiYmNyeXB0U2VydmljZSIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsImhvb2tzIiwiYmVmb3JlQ3JlYXRlIiwidXNlciIsInBhc3N3b3JkIiwidGFibGVOYW1lIiwiVXNlciIsIkFjdGl2aXR5IiwiZGVmaW5lIiwidGl0bGUiLCJ0eXBlIiwiU1RSSU5HIiwiY2F0dXJlZEF0IiwiREFURSIsImltYWdlIiwicHJvdG90eXBlIiwidG9KU09OIiwidmFsdWVzIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0IiwiYmVsb25nc1RvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxhQUFhLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUE3Qjs7QUFFQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF6Qjs7QUFDQSxNQUFNRyxTQUFTLEdBQUdKLFNBQVMsQ0FBQ0ksU0FBNUI7QUFFQSxNQUFNQyxLQUFLLEdBQUc7QUFDWkMsRUFBQUEsWUFBWSxDQUFDQyxJQUFELEVBQU87QUFDakJBLElBQUFBLElBQUksQ0FBQ0MsUUFBTCxHQUFnQk4sYUFBYSxHQUFHTSxRQUFoQixDQUF5QkQsSUFBekIsQ0FBaEIsQ0FEaUIsQ0FDK0I7QUFDakQ7O0FBSFcsQ0FBZDtBQU1BLE1BQU1FLFNBQVMsR0FBRyxZQUFsQjs7QUFFQSxNQUFNQyxJQUFJLEdBQUdULE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUVBLE1BQU1VLFFBQVEsR0FBR1IsU0FBUyxDQUFDUyxNQUFWLENBQWlCLFVBQWpCLEVBQTZCO0FBQzFDQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEMsSUFBQUEsSUFBSSxFQUFFZCxTQUFTLENBQUNlO0FBRGIsR0FEbUM7QUFJMUNDLEVBQUFBLFNBQVMsRUFBRTtBQUNQRixJQUFBQSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2lCO0FBRFQsR0FKK0I7QUFPMUNDLEVBQUFBLEtBQUssRUFBQztBQUNGSixJQUFBQSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2U7QUFEZDtBQVBvQyxDQUE3QixFQVVkO0FBQUVWLEVBQUFBLEtBQUY7QUFBU0ksRUFBQUE7QUFBVCxDQVZjLENBQWpCLEMsQ0FZQTs7QUFDQUUsUUFBUSxDQUFDUSxTQUFULENBQW1CQyxNQUFuQixHQUE0QixZQUFZO0FBQ3RDLFFBQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQixLQUFLQyxHQUFMLEVBQWxCLENBQWY7QUFFQSxTQUFPSCxNQUFQO0FBQ0QsQ0FKRDtBQU1BOzs7Ozs7QUFJQ1YsUUFBUSxDQUFDYyxTQUFULENBQW1CZixJQUFuQjtBQUVEZ0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEIsUUFBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvb3N2aW51c2VyL0RvY3VtZW50cy90aW1lVHJhY2tlci9UaW1lVHJhY2tlckFwaS9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuY29uc3QgYmNyeXB0U2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2JjcnlwdC5zZXJ2aWNlJyk7XG5cbmNvbnN0IHNlcXVlbGl6ZSA9IHJlcXVpcmUoJy4uLy4uL2NvbmZpZy9kYXRhYmFzZScpO1xuY29uc3QgRGF0YVR5cGVzID0gU2VxdWVsaXplLkRhdGFUeXBlcztcblxuY29uc3QgaG9va3MgPSB7XG4gIGJlZm9yZUNyZWF0ZSh1c2VyKSB7XG4gICAgdXNlci5wYXNzd29yZCA9IGJjcnlwdFNlcnZpY2UoKS5wYXNzd29yZCh1c2VyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICB9LFxufTtcblxuY29uc3QgdGFibGVOYW1lID0gJ2FjdGl2aXRpZXMnO1xuXG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi9Vc2VyJylcblxuY29uc3QgQWN0aXZpdHkgPSBzZXF1ZWxpemUuZGVmaW5lKCdBY3Rpdml0eScsIHtcbiAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgIH0sXG4gICAgY2F0dXJlZEF0OiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5EQVRFLFxuICAgIH0sXG4gICAgaW1hZ2U6e1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HXG4gICAgfVxufSwgeyBob29rcywgdGFibGVOYW1lIH0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbkFjdGl2aXR5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuXG4gIHJldHVybiB2YWx1ZXM7XG59O1xuXG4vKiBVc2VyLmFzc29jaWF0ZSA9IGZ1bmN0aW9uIChtb2RlbHMpIHsgXG4gIFxuICBVc2VyLmhhc09uZSh7Tm90ZTogfSlcbiB9OyAqL1xuIEFjdGl2aXR5LmJlbG9uZ3NUbyhVc2VyKVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjdGl2aXR5O1xuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "WActivity.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "bcryptService",
        "sequelize",
        "DataTypes",
        "hooks",
        "beforeCreate",
        "user",
        "password",
        "tableName",
        "User",
        "Activity",
        "define",
        "title",
        "type",
        "STRING",
        "caturedAt",
        "DATE",
        "image",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "belongsTo",
        "module",
        "exports"
      ],
      "mappings": "AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,4BAAD,CAA7B;;AAEA,MAAME,SAAS,GAAGF,OAAO,CAAC,uBAAD,CAAzB;;AACA,MAAMG,SAAS,GAAGJ,SAAS,CAACI,SAA5B;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjBA,IAAAA,IAAI,CAACC,QAAL,GAAgBN,aAAa,GAAGM,QAAhB,CAAyBD,IAAzB,CAAhB,CADiB,CAC+B;AACjD;;AAHW,CAAd;AAMA,MAAME,SAAS,GAAG,YAAlB;;AAEA,MAAMC,IAAI,GAAGT,OAAO,CAAC,QAAD,CAApB;;AAEA,MAAMU,QAAQ,GAAGR,SAAS,CAACS,MAAV,CAAiB,UAAjB,EAA6B;AAC1CC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEd,SAAS,CAACe;AADb,GADmC;AAI1CC,EAAAA,SAAS,EAAE;AACPF,IAAAA,IAAI,EAAEd,SAAS,CAACiB;AADT,GAJ+B;AAO1CC,EAAAA,KAAK,EAAC;AACFJ,IAAAA,IAAI,EAAEd,SAAS,CAACe;AADd;AAPoC,CAA7B,EAUd;AAAEV,EAAAA,KAAF;AAASI,EAAAA;AAAT,CAVc,CAAjB,C,CAYA;;AACAE,QAAQ,CAACQ,SAAT,CAAmBC,MAAnB,GAA4B,YAAY;AACtC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AAEA,SAAOH,MAAP;AACD,CAJD;AAMA;;;;;;AAICV,QAAQ,CAACc,SAAT,CAAmBf,IAAnB;AAEDgB,MAAM,CAACC,OAAP,GAAiBhB,QAAjB",
      "sourceRoot": "/home/osvinuser/Documents/timeTracker/TimeTrackerApi/api/models",
      "sourcesContent": [
        "\n\nconst Sequelize = require('sequelize');\nconst bcryptService = require('../services/bcrypt.service');\n\nconst sequelize = require('../../config/database');\nconst DataTypes = Sequelize.DataTypes;\n\nconst hooks = {\n  beforeCreate(user) {\n    user.password = bcryptService().password(user); // eslint-disable-line no-param-reassign\n  },\n};\n\nconst tableName = 'activities';\n\nconst User = require('./User')\n\nconst Activity = sequelize.define('Activity', {\n    title: {\n        type: Sequelize.STRING,\n    },\n    caturedAt: {\n        type: Sequelize.DATE,\n    },\n    image:{\n        type: Sequelize.STRING\n    }\n}, { hooks, tableName });\n\n// eslint-disable-next-line\nActivity.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n\n  return values;\n};\n\n/* User.associate = function (models) { \n  \n  User.hasOne({Note: })\n }; */\n Activity.belongsTo(User)\n\nmodule.exports = Activity;\n\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1581504992711
  }
}